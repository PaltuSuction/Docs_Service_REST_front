{"remainingRequest":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/babel-loader/lib/index.js!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/components/AllTables.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/components/AllTables.vue","mtime":1588715042125},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXgnOwppbXBvcnQgVGFibGVFZGl0VmlldyBmcm9tICIuLi92aWV3cy9UYWJsZUVkaXRWaWV3IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBbGxUYWJsZXMiLAogIGNvbXBvbmVudHM6IHsKICAgIFRhYmxlRWRpdFZpZXc6IFRhYmxlRWRpdFZpZXcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbGxfYXV0aG9yX3RhYmxlczogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaF90YWJsZXNfaW5mbzogZnVuY3Rpb24gZmV0Y2hfdGFibGVzX2luZm8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAnYWN0aW9uJzogJ2dldF9hbGwnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgJ2F1dGhvci10b2tlbic6IHN0b3JlLnN0YXRlLnRva2VuCiAgICAgICAgfQogICAgICB9OwogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo2MDYwL2FwaS90YWJsZV9jcmVhdG9yLycsCiAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuZGF0YS5yZXN1bHQgPT09ICdvaycpIHsKICAgICAgICAgIF90aGlzLmFsbF9hdXRob3JfdGFibGVzID0gcmVzcC5kYXRhLnBhcmFtcy5hbGxfYXV0aG9yX3RhYmxlczsgLy8gY29uc29sZS5sb2codGhpcy5hbGxfYXV0aG9yX3RhYmxlcykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQtSDRgdC/0LjRgdC60LAg0YLQsNCx0LvQuNGGJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBlZGl0X3RhYmxlOiBmdW5jdGlvbiBlZGl0X3RhYmxlKHRhYmxlX2lkKSB7CiAgICAgIHN0b3JlLnN0YXRlLnNlbGVjdGVkX3RhYmxlX2lkID0gdGFibGVfaWQ7CiAgICAgIHJvdXRlci5wdXNoKCcvZWRpdF90YWJsZScpOwogICAgfSwKICAgIGRlbGV0ZV90YWJsZTogZnVuY3Rpb24gZGVsZXRlX3RhYmxlKHRhYmxlX2lkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgJ2FjdGlvbic6ICdkZWxldGVfdGFibGUnLAogICAgICAgICdwYXJhbXMnOiB7CiAgICAgICAgICAndGFibGVfaWQnOiB0YWJsZV9pZAogICAgICAgIH0KICAgICAgfTsKICAgICAgYXhpb3MoewogICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NjA2MC9hcGkvdGFibGVfY3JlYXRvci8nLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgbWV0aG9kOiAnUE9TVCcKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwLmRhdGEucmVzdWx0ID09PSAnb2snKSB7CiAgICAgICAgICBfdGhpczIuZmV0Y2hfdGFibGVzX2luZm8oKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2cocmVzcC5kYXRhLnBhcmFtcy5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hfdGFibGVzX2luZm8oKTsKICB9Cn07"},{"version":3,"sources":["AllTables.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,KAAA,MAAA,UAAA;AACA,OAAA,MAAA,MAAA,iBAAA;AACA,OAAA,aAAA,MAAA,wBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA;AADA,KAAA;AAIA,GAVA;AAWA,EAAA,OAAA,EAAA;AACA,IAAA,iBAAA,EAAA,6BAAA;AAAA;;AACA,UAAA,IAAA,GAAA;AAAA,kBAAA,SAAA;AAAA,QAAA,MAAA,EAAA;AAAA,0BAAA,KAAA,CAAA,KAAA,CAAA;AAAA;AAAA,OAAA;AACA,MAAA,KAAA,CAAA;AAAA,QAAA,GAAA,EAAA,0CAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA,CAAA,CACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,iBAAA,GAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,iBAAA,CADA,CAEA;AACA,SAHA,MAGA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,mCAAA;AACA;AACA,OARA;AAUA,KAbA;AAcA,IAAA,UAAA,EAAA,oBAAA,QAAA,EAAA;AACA,MAAA,KAAA,CAAA,KAAA,CAAA,iBAAA,GAAA,QAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,aAAA;AACA,KAjBA;AAkBA,IAAA,YAAA,EAAA,sBAAA,QAAA,EAAA;AAAA;;AACA,UAAA,IAAA,GAAA;AAAA,kBAAA,cAAA;AAAA,kBAAA;AAAA,sBAAA;AAAA;AAAA,OAAA;AACA,MAAA,KAAA,CAAA;AAAA,QAAA,GAAA,EAAA,0CAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA,CAAA,CACA,IADA,CACA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,IAAA,EAAA;AACA,UAAA,MAAA,CAAA,iBAAA;AACA,SAFA,MAGA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,OAAA;AACA;AACA,OARA;AASA;AA7BA,GAXA;AA0CA,EAAA,OA1CA,qBA0CA;AACA,SAAA,iBAAA;AACA;AA5CA,CAAA","sourcesContent":["<template>\n    <div class=\"all-tables\">\n        <h2>Здесь будут все таблицы, созданные текущим пользователем</h2>\n        <div style=\"text-align: center\">\n            <b-card v-for=\"table in all_author_tables\" class=\"table-card\">\n                <b-card-title>\n                    {{table.table_name}}\n                </b-card-title>\n               <b-card-body style=\"text-align: left\">\n                   Группа: {{table.table_group_number}} <br/>\n                   Направление: <b>Нет Поля</b> <br/>\n                   Дата создания: <b>Нет Поля</b> <br/>\n                   Дата последнего редактирования: <b>Нет Поля</b> <br/>\n               </b-card-body>\n               <b-card-footer>\n                   <b-btn squared variant=\"outline-secondary\" small class=\"action-button\" @click=\"edit_table(table.id)\">Редактировать</b-btn>\n                   <b-btn squared variant=\"outline-secondary\" class=\"action-button\" @click=\"delete_table(table.id)\">Удалить</b-btn>\n                   <b-btn squared variant=\"outline-secondary\" class=\"action-button\">Сохранить документ</b-btn>\n               </b-card-footer>\n            </b-card>\n        </div>\n    </div>\n\n</template>\n\n<script>\n    import axios from 'axios'\n    import store from '../store'\n    import router from '../router/index'\n    import TableEditView from \"../views/TableEditView\";\n\n    export default {\n        name: \"AllTables\",\n        components: {\n            TableEditView\n        },\n        data() {\n            return{\n                all_author_tables: '',\n            }\n\n        },\n        methods: {\n            fetch_tables_info: function () {\n                let data = {'action': 'get_all', params: {'author-token': store.state.token}}\n                axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                .then(resp => {\n                    if (resp.data.result === 'ok') {\n                        this.all_author_tables = resp.data.params.all_author_tables\n                        // console.log(this.all_author_tables)\n                    } else {\n                        console.log('Ошибка при загрузке списка таблиц')\n                    }\n                })\n\n            },\n            edit_table: function (table_id) {\n                store.state.selected_table_id = table_id\n                router.push('/edit_table')\n            },\n            delete_table: function (table_id) {\n                let data = {'action': 'delete_table', 'params': {'table_id': table_id}}\n                axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                .then(resp => {\n                    if (resp.data.result === 'ok') {\n                        this.fetch_tables_info()\n                    }\n                    else {\n                        console.log(resp.data.params.message)\n                    }\n                })\n            }\n        },\n        created() {\n            this.fetch_tables_info()\n        }\n    }\n</script>\n\n<style scoped>\n    .table-card {\n        width: 40vw;\n        position: relative;\n        margin: auto;\n        margin-top: 30px;\n    }\n    .action-button {\n        margin-right: 10px;\n        margin-left: 10px;\n    }\n</style>"],"sourceRoot":"src/components"}]}