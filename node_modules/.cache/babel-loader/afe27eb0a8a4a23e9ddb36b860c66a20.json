{"remainingRequest":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/babel-loader/lib/index.js!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/views/TabeCreateView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/views/TabeCreateView.vue","mtime":1588678358766},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyL2luZGV4IjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKaW1wb3J0IFRhYmxlR2VuZXJhdG9yIGZyb20gIi4uL2NvbXBvbmVudHMvVGFibGVHZW5lcmF0b3IiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RhYmxlQ3JlYXRlVmlldycsCiAgY29tcG9uZW50czogewogICAgVGFibGVHZW5lcmF0b3I6IFRhYmxlR2VuZXJhdG9yCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RvcmU6IHN0b3JlLAogICAgICBhbGxfZGlyZWN0aW9uczogJycsCiAgICAgIHNlbGVjdGVkX2RpcmVjdGlvbjogJycsCiAgICAgIGdyb3Vwc19vbl9kaXJlY3Rpb246IFtdLAogICAgICBzZWxlY3RlZF9ncm91cDogJycsCiAgICAgIHN0dWRlbnRzX2luX3NlbGVjdGVkX2dyb3VwOiAnJywKICAgICAgbmV3X3RhYmxlX25hbWU6ICcnLAogICAgICB0YWJsZV9kYXRhOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoX2dyb3VwczogZnVuY3Rpb24gZmV0Y2hfZ3JvdXBzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gZGF0YSA9IHsnc3R1ZHlpbmdfZGlyZWN0aW9uJzogdGhpcy5zdHVkeWluZ19kaXJlY3Rpb259CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo2MDYwL2FwaS9ncm91cHNfYnlfZGlyZWN0LyIuY29uY2F0KHRoaXMuc2VsZWN0ZWRfZGlyZWN0aW9uLCAiLyIpKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmdyb3Vwc19vbl9kaXJlY3Rpb24gPSByZXNwLmRhdGEucGFyYW1zLmdyb3Vwc19udW1iZXJzOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBjcmVhdGVfdGFibGU6IGZ1bmN0aW9uIGNyZWF0ZV90YWJsZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAnYWN0aW9uJzogJ2NyZWF0ZV9uZXcnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgJ2dyb3VwX251bWJlcic6IHRoaXMuc2VsZWN0ZWRfZ3JvdXAsCiAgICAgICAgICAnbmV3X3RhYmxlX25hbWUnOiB0aGlzLm5ld190YWJsZV9uYW1lCiAgICAgICAgfQogICAgICB9OwogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo2MDYwL2FwaS90YWJsZV9jcmVhdG9yLycsCiAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICB9KSAvLyAudGhlbihyZXNwID0+ICh0aGlzLmZldGNoX3N0dWRlbnRzX2luZm8ocmVzcC5kYXRhLnBhcmFtcy5zdHVkZW50cykpKQogICAgICAudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIGlmIChyZXNwLmRhdGEucmVzdWx0ID09PSAnb2snKSB7CiAgICAgICAgICBfdGhpczIudGFibGVfZGF0YSA9IHJlc3AuZGF0YS5wYXJhbXMudGFibGVfZGF0YTsgLy8gY29uc29sZS5sb2codGhpcy50YWJsZV9kYXRhKQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgdmFyIGRhdGEgPSB7CiAgICAgICdhY3Rpb24nOiAnZ2V0X2RpcmVjdGlvbnMnCiAgICB9OwogICAgYXhpb3MoewogICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjYwNjAvYXBpL3RhYmxlX2NyZWF0b3IvJywKICAgICAgZGF0YTogZGF0YSwKICAgICAgbWV0aG9kOiAnUE9TVCcKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgcmV0dXJuIF90aGlzMy5hbGxfZGlyZWN0aW9ucyA9IHJlc3AuZGF0YS5wYXJhbXMuZGlyZWN0aW9uc19uYW1lczsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["TabeCreateView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,iBAAA;AACA,OAAA,KAAA,MAAA,UAAA;AACA,OAAA,cAAA,MAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,cAAA,EAAA,EAFA;AAGA,MAAA,kBAAA,EAAA,EAHA;AAIA,MAAA,mBAAA,EAAA,EAJA;AAKA,MAAA,cAAA,EAAA,EALA;AAMA,MAAA,0BAAA,EAAA,EANA;AAOA,MAAA,cAAA,EAAA,EAPA;AAQA,MAAA,UAAA,EAAA;AARA,KAAA;AAUA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,YAAA,EAAA,wBAAA;AAAA;;AACA;AACA,MAAA,KAAA,CAAA,GAAA,sDAAA,KAAA,kBAAA,QACA,IADA,CACA,UAAA,IAAA;AAAA,eAAA,KAAA,CAAA,mBAAA,GAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,cAAA;AAAA,OADA,EAEA,KAFA,CAEA,UAAA,KAAA;AAAA,eAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AAAA,OAFA;AAGA,KANA;AAOA,IAAA,YAAA,EAAA,wBAAA;AAAA;;AACA,UAAA,IAAA,GAAA;AAAA,kBAAA,YAAA;AACA,QAAA,MAAA,EAAA;AAAA,0BAAA,KAAA,cAAA;AAAA,4BAAA,KAAA;AAAA;AADA,OAAA;AAGA,MAAA,KAAA,CAAA;AAAA,QAAA,GAAA,EAAA,0CAAA;AAAA,QAAA,IAAA,EAAA,IAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA,CAAA,CACA;AADA,OAEA,IAFA,CAEA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,IAAA,EAAA;AACA,UAAA,MAAA,CAAA,UAAA,GAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,UAAA,CADA,CAEA;AACA;AACA,OAPA,EAQA,KARA,CAQA,UAAA,KAAA;AAAA,eAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AAAA,OARA;AASA;AApBA,GAjBA;AAuCA,EAAA,OAvCA,qBAuCA;AAAA;;AACA,QAAA,IAAA,GAAA;AAAA,gBAAA;AAAA,KAAA;AACA,IAAA,KAAA,CAAA;AAAA,MAAA,GAAA,EAAA,0CAAA;AAAA,MAAA,IAAA,EAAA,IAAA;AAAA,MAAA,MAAA,EAAA;AAAA,KAAA,CAAA,CACA,IADA,CACA,UAAA,IAAA;AAAA,aAAA,MAAA,CAAA,cAAA,GAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,gBAAA;AAAA,KADA,EAEA,KAFA,CAEA,UAAA,KAAA;AAAA,aAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA;AAAA,KAFA;AAGA;AA5CA,CAAA","sourcesContent":["<template>\n  <div class=\"table-create-view\">\n    <h2>Меню создания таблиц</h2>\n\n      <div class=\"card\">\n         <div class=\"card-body\">\n             <b-form-group label=\"Укажите группу и название таблицы\" class=\"mt-2 creation-settings-form\">\n                 <div class=\"row\">\n                     <b-form-select id=\"discipline\" v-model=\"selected_direction\" class=\"creation-select-direct mt-2\" @change=\"fetch_groups\">\n                         <template v-slot:first>\n                            <b-form-select-option :value=\"''\" disabled>-- Направление подготовки --</b-form-select-option>\n                         </template>\n                         <b-form-select-option v-for=\"direction in all_directions\" v-bind:value=\"direction.name\">\n                             {{ $store.state.direction_decryption[direction.name] }}\n                         </b-form-select-option>\n                     </b-form-select>\n                     <b-form-select id=\"discipline\" v-model=\"selected_group\" class=\"tablegen-select-group mt-2\">\n                         <template v-slot:first>\n                            <b-form-select-option :value=\"''\" disabled>-- Группа --</b-form-select-option>\n                         </template>\n                        <b-form-select-option v-for=\"group_number in groups_on_direction\" v-bind:value=\"group_number\">{{group_number}}</b-form-select-option>\n                     </b-form-select>\n                    <b-input class=\"tablegen-input-name mt-2\" placeholder=\"Название таблицы\" v-model=\"new_table_name\"/>\n                 </div>\n                 <b-button secondary type=\"submit\" value=\"Создать\" class=\"mt-2\" @click=\"create_table\">Создать таблицу</b-button>\n             </b-form-group>\n         </div>\n      </div>\n\n        Генератор находится здесь\n        <TableGenerator v-if=\"table_data !== ''\" :table_data=\"table_data\"/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from \"axios\";\nimport router from \"../router/index\";\nimport store from \"../store\";\nimport TableGenerator from \"../components/TableGenerator\";\n\nexport default {\n  name: 'TableCreateView',\n  components: {\n    TableGenerator\n  },\n  data() {\n            return {\n                store:store,\n                all_directions: '',\n                selected_direction: '',\n                groups_on_direction: [],\n                selected_group: '',\n                students_in_selected_group: '',\n                new_table_name: '',\n                table_data: '',\n            }\n        },\n        methods: {\n            fetch_groups: function () {\n                // data = {'studying_direction': this.studying_direction}\n                axios.get(`http://localhost:6060/api/groups_by_direct/${this.selected_direction}/`)\n                .then(resp => (this.groups_on_direction = resp.data.params.groups_numbers))\n                .catch(error => (console.log(error)))\n            },\n            create_table: function() {\n                let data = {'action': 'create_new',\n                    params: {'group_number': this.selected_group, 'new_table_name': this.new_table_name}\n                }\n                axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                // .then(resp => (this.fetch_students_info(resp.data.params.students)))\n                .then(resp => {\n                    if (resp.data.result === 'ok') {\n                        this.table_data = resp.data.params.table_data\n                        // console.log(this.table_data)\n                    }\n                })\n                .catch(error =>(console.log(error)))\n            },\n        },\n        created() {\n             let data = {'action': 'get_directions'}\n             axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                .then(resp => (this.all_directions = resp.data.params.directions_names))\n                .catch(error =>(console.log(error)))\n        }\n}\n</script>\n\n<style>\n    .creation-settings-form {\n        text-align: center;\n    }\n    .creation-select-direct {\n        width: 28vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .tablegen-select-group {\n        width: 10vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .tablegen-input-name {\n        width: 15vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .scores-table {\n        margin-top: 15px;\n    }\n</style>\n"],"sourceRoot":"src/views"}]}