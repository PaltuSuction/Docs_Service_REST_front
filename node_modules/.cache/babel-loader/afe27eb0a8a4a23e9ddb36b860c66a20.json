{"remainingRequest":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/babel-loader/lib/index.js!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/views/TabeCreateView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/views/TabeCreateView.vue","mtime":1589458245168},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyL2luZGV4IjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKaW1wb3J0IFRhYmxlR2VuZXJhdG9yIGZyb20gIi4uL2NvbXBvbmVudHMvVGFibGVHZW5lcmF0b3IiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RhYmxlQ3JlYXRlVmlldycsCiAgY29tcG9uZW50czogewogICAgVGFibGVHZW5lcmF0b3I6IFRhYmxlR2VuZXJhdG9yCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RvcmU6IHN0b3JlLAogICAgICBhbGxfZGlyZWN0aW9uczogJycsCiAgICAgIHNlbGVjdGVkX2RpcmVjdGlvbjogJycsCiAgICAgIGdyb3Vwc19vbl9kaXJlY3Rpb246IFtdLAogICAgICBncm91cF9udW1iZXJzOiAnJywKICAgICAgc2VsZWN0ZWRfZ3JvdXA6ICcnLAogICAgICBzdHVkZW50c19pbl9zZWxlY3RlZF9ncm91cDogJycsCiAgICAgIG5ld190YWJsZV9uYW1lOiAnJywKICAgICAgdGFibGVfZGF0YTogJycsCiAgICAgIHRlYWNoZXJfZGVwYXJ0bWVudHM6IFtdLAogICAgICB0YWJsZV9kZXBhcnRtZW50OiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoX2dyb3VwczogZnVuY3Rpb24gZmV0Y2hfZ3JvdXBzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gZGF0YSA9IHsnc3R1ZHlpbmdfZGlyZWN0aW9uJzogdGhpcy5zdHVkeWluZ19kaXJlY3Rpb259CiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo2MDYwL2FwaS9ncm91cHNfYnlfZGlyZWN0LyIuY29uY2F0KHRoaXMuc2VsZWN0ZWRfZGlyZWN0aW9uLCAiLyIpKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmdyb3Vwc19vbl9kaXJlY3Rpb24gPSByZXNwLmRhdGEucGFyYW1zLmdyb3Vwc19udW1iZXJzOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBjcmVhdGVfdGFibGU6IGZ1bmN0aW9uIGNyZWF0ZV90YWJsZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAnYWN0aW9uJzogJ2NyZWF0ZV9uZXcnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgJ2dyb3VwX251bWJlcic6IHRoaXMuc2VsZWN0ZWRfZ3JvdXAsCiAgICAgICAgICAnbmV3X3RhYmxlX25hbWUnOiB0aGlzLm5ld190YWJsZV9uYW1lLAogICAgICAgICAgJ3RhYmxlX2RlcGFydG1lbnQnOiB0aGlzLnRhYmxlX2RlcGFydG1lbnQKICAgICAgICB9CiAgICAgIH07CiAgICAgIGF4aW9zKHsKICAgICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjYwNjAvYXBpL3RhYmxlX2NyZWF0b3IvJywKICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBpZiAocmVzcC5kYXRhLnJlc3VsdCA9PT0gJ29rJykgewogICAgICAgICAgX3RoaXMyLnRhYmxlX2RhdGEgPSByZXNwLmRhdGEucGFyYW1zLnRhYmxlX2RhdGE7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICB2YXIgZGF0YSA9IHsKICAgICAgJ2FjdGlvbic6ICdnZXRfZGlyZWN0c19hbmRfZGVwYXJ0bWVudHMnCiAgICB9OwogICAgYXhpb3MoewogICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjYwNjAvYXBpL3RhYmxlX2NyZWF0b3IvJywKICAgICAgZGF0YTogZGF0YSwKICAgICAgbWV0aG9kOiAnUE9TVCcKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgaWYgKHJlc3AuZGF0YS5yZXN1bHQgPT09ICdvaycpIHsKICAgICAgICBfdGhpczMuYWxsX2RpcmVjdGlvbnMgPSByZXNwLmRhdGEucGFyYW1zLmRpcmVjdGlvbnNfbmFtZXM7CiAgICAgICAgX3RoaXMzLmdyb3VwX251bWJlcnMgPSByZXNwLmRhdGEucGFyYW1zLmFsbF9ncm91cF9udW1iZXJzOwogICAgICAgIF90aGlzMy50ZWFjaGVyX2RlcGFydG1lbnRzID0gcmVzcC5kYXRhLnBhcmFtcy50ZWFjaGVyX2RlcGFydG1lbnRzOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3AuZGF0YS5wYXJhbXMubWVzc2FnZSk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["TabeCreateView.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"table-create-view\">\n    <h2>Создание ведомости</h2>\n      <div class=\"card\">\n         <div class=\"card-body\">\n             <b-form-group label=\"Выберите направление подготовки, затем группу\">\n                 <b-row align-h=\"center\">\n                     <b-col md=\"4\" class=\"mr-2\">\n                        <b-form-select id=\"discipline\" class=\"mt-2\" v-model=\"selected_direction\" @change=\"fetch_groups\">\n                         <template v-slot:first>\n                            <b-form-select-option :value=\"''\" disabled>-- Направление подготовки --</b-form-select-option>\n                         </template>\n                         <b-form-select-option class=\"mt-2\" v-for=\"direction in all_directions\" :key=\"direction.name\" v-bind:value=\"direction.name\">\n                             {{ $store.state.direction_decryption[direction.name] }}\n                         </b-form-select-option>\n                        </b-form-select>\n                     </b-col>\n                     <b-col md=\"4\" class=\"ml-2\">\n                         <b-form-select class=\"mt-2\" id=\"discipline\" v-model=\"selected_group\">\n                             <template v-slot:first>\n                                <b-form-select-option :value=\"''\" disabled>-- Группа --</b-form-select-option>\n                             </template>\n                             <b-form-select-option v-for=\"group_number in groups_on_direction\" :key=\"group_number\" v-bind:value=\"group_number\">{{group_number}}</b-form-select-option>\n                         </b-form-select>\n                     </b-col>\n                 </b-row>\n                 </b-form-group>\n             <b-form-group label=\"Или сразу введите номер группы\">\n                 <b-row align-h=\"center\">\n                     <b-col md=\"3\" class=\"mr-2\">\n                         <b-form-input list=\"groups_list\" class=\"mt-2\" placeholder=\"Номер группы\" v-model=\"selected_group\"/>\n                     </b-col>\n                     <datalist id=\"groups_list\">\n                        <option v-for=\"group_number in group_numbers\">{{ group_number }}</option>\n                     </datalist>\n\n                     <b-col md=\"3\" class=\"mr-2\">\n                         <b-form-input list=\"departments_list\" class=\"mt-2\" placeholder=\"Кафедра\" v-model=\"table_department\"/>\n                     </b-col>\n                     <datalist id=\"departments_list\">\n                        <option v-for=\"department_name in teacher_departments\">{{ department_name }}</option>\n                     </datalist>\n\n                     <b-col md=\"3\" class=\"ml-2\">\n                         <b-input class=\"mt-2\" placeholder=\"Название дисциплины\" v-model=\"new_table_name\"/>\n                     </b-col>\n                 </b-row>\n                 <b-button squared secondary type=\"submit\" value=\"Создать\" class=\"mt-2\" @click=\"create_table\">Создать таблицу</b-button>\n             </b-form-group>\n         </div>\n      </div>\n\n        <TableGenerator v-if=\"table_data !== ''\" :table_data=\"table_data\"/>\n\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from \"axios\";\nimport router from \"../router/index\";\nimport store from \"../store\";\nimport TableGenerator from \"../components/TableGenerator\";\n\nexport default {\n  name: 'TableCreateView',\n  components: {\n    TableGenerator\n  },\n  data() {\n            return {\n                store:store,\n                all_directions: '',\n                selected_direction: '',\n                groups_on_direction: [],\n                group_numbers: '',\n                selected_group: '',\n                students_in_selected_group: '',\n                new_table_name: '',\n                table_data: '',\n\n                teacher_departments: [],\n                table_department: '',\n            }\n        },\n        methods: {\n            fetch_groups: function () {\n                // data = {'studying_direction': this.studying_direction}\n                axios.get(`http://localhost:6060/api/groups_by_direct/${this.selected_direction}/`)\n                .then(resp => (this.groups_on_direction = resp.data.params.groups_numbers))\n                .catch(error => (console.log(error)))\n            },\n            create_table: function() {\n                let data = {'action': 'create_new',\n                    params: {'group_number': this.selected_group, 'new_table_name': this.new_table_name, 'table_department': this.table_department}\n                }\n                axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                .then(resp => {\n                    if (resp.data.result === 'ok') {\n                        this.table_data = resp.data.params.table_data\n                    }\n                })\n                .catch(error =>(console.log(error)))\n            },\n        },\n        created() {\n             let data = {'action': 'get_directs_and_departments'}\n             axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                .then(resp => {\n                    if (resp.data.result === 'ok') {\n                        this.all_directions = resp.data.params.directions_names\n                        this.group_numbers = resp.data.params.all_group_numbers\n                        this.teacher_departments = resp.data.params.teacher_departments\n                    }\n                    else {\n                       console.log(resp.data.params.message)\n                    }\n                }\n                )\n                .catch(error =>(console.log(error)))\n        }\n}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":"src/views"}]}