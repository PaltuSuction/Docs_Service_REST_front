{"remainingRequest":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/babel-loader/lib/index.js!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/components/RegistrationForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/components/RegistrationForm.vue","mtime":1589400495107},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIvaW5kZXgiOwppbXBvcnQgc3RvcmUgZnJvbSAiLi4vc3RvcmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlZ2lzdHJhdGlvbkZvcm0iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzdG9yZTogc3RvcmUsCiAgICAgIHN0YXR1czogJycsCiAgICAgIC8vIENvbW1vbiBkYXRhCiAgICAgIGVtYWlsOiAnJywKICAgICAgZmlvOiB7CiAgICAgICAgZmlyc3RfbmFtZTogJycsCiAgICAgICAgbWlkZGxlX25hbWU6ICcnLAogICAgICAgIGxhc3RfbmFtZTogJycKICAgICAgfSwKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBwYXNzd29yZDI6ICcnLAogICAgICAvLyBUZWFjaGVyIGRhdGEKICAgICAgYWxsX2ZhY3VsdGllczogW10sCiAgICAgIHRlYWNoZXJfZmFjdWx0eTogJycsCiAgICAgIGZhY3VsdHlfc3R1ZHlpbmdfZGlyZWN0aW9uczogW10sCiAgICAgIHNlbGVjdGVkX3N0dWR5aW5nX2RpcmVjdGlvbnM6IFtdLAogICAgICAvLyBTdHVkZW50IGRhdGEKICAgICAgdGlja2V0X251bWJlcjogJycsCiAgICAgIC8vIFN0YXRlcwogICAgICBzdGF0ZXM6IHsKICAgICAgICBlbWFpbF9zdGF0ZTogbnVsbCwKICAgICAgICBmaW9fc3RhdGU6IG51bGwsCiAgICAgICAgdGhpY2tldF9udW1iZXJfc3RhdGU6IG51bGwsCiAgICAgICAgZmFjdWx0eV9zdGF0ZTogbnVsbCwKICAgICAgICBkaXJlY3RzX3N0YXRlOiBudWxsLAogICAgICAgIHBhc3N3b3Jkc19zdGF0ZTogbnVsbCwKICAgICAgICBlcnJvcjogZmFsc2UsCiAgICAgICAgZXJyb3JfdGV4dDogJycKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlZ2lzdGVyOiBmdW5jdGlvbiByZWdpc3RlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuZXJyb3IgPSBmYWxzZTsKCiAgICAgIGZvciAodmFyIHN0YXRlIGluIHRoaXMuc3RhdGVzKSB7CiAgICAgICAgc3RhdGUgPSBudWxsOwogICAgICB9CgogICAgICBpZiAodGhpcy5lbWFpbCA9PT0gJycpIHRoaXMuc3RhdGVzLmVtYWlsX3N0YXRlID0gZmFsc2U7CiAgICAgIGlmICh0aGlzLmZpcnN0X25hbWUgPT09ICcnIHx8IHRoaXMubGFzdF9uYW1lID09PSAnJykgdGhpcy5zdGF0ZXMuZmlvX3N0YXRlID0gZmFsc2U7CiAgICAgIGlmICh0aGlzLnBhc3N3b3JkID09PSAnJyB8fCB0aGlzLnBhc3N3b3JkMiA9PT0gJycpIHRoaXMuc3RhdGVzLnBhc3N3b3Jkc19zdGF0ZSA9IGZhbHNlOwogICAgICBpZiAodGhpcy5wYXNzd29yZCAhPT0gdGhpcy5wYXNzd29yZDIpIHRoaXMuc3RhdGVzLnBhc3N3b3Jkc19zdGF0ZSA9IGZhbHNlOwoKICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAnc3R1ZGVudCcpIHsKICAgICAgICBpZiAodGhpcy50aWNrZXRfbnVtYmVyID09PSAnJykgdGhpcy5zdGF0ZXMudGhpY2tldF9udW1iZXJfc3RhdGUgPSBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSAndGVhY2hlcicpIHsKICAgICAgICBpZiAodGhpcy50ZWFjaGVyX2ZhY3VsdHkgPT09ICcnKSB0aGlzLnN0YXRlcy5mYWN1bHR5X3N0YXRlID0gZmFsc2U7CiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRfc3R1ZHlpbmdfZGlyZWN0aW9ucyA9PT0gJycpIHRoaXMuc3RhdGVzLmRpcmVjdHNfc3RhdGUgPSBmYWxzZTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgX3N0YXRlIGluIHRoaXMuc3RhdGVzKSB7CiAgICAgICAgaWYgKF9zdGF0ZSA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIG5ld191c2VyID0ge307CgogICAgICBpZiAodGhpcy5zdGF0dXMgPT09ICdzdHVkZW50JykgewogICAgICAgIG5ld191c2VyID0gewogICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgICBmaXJzdF9uYW1lOiB0aGlzLmZpby5maXJzdF9uYW1lLAogICAgICAgICAgbGFzdF9uYW1lOiB0aGlzLmZpby5sYXN0X25hbWUsCiAgICAgICAgICBtaWRkbGVfbmFtZTogdGhpcy5maW8ubWlkZGxlX25hbWUsCiAgICAgICAgICB0aWNrZXRfbnVtYmVyOiB0aGlzLnRpY2tldF9udW1iZXIsCiAgICAgICAgICBpc190ZWFjaGVyOiBmYWxzZSwKICAgICAgICAgIGlzX3N0dWRlbnQ6IHRydWUsCiAgICAgICAgICBpc19zdGFmZjogZmFsc2UsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgIHBhc3N3b3JkMjogdGhpcy5wYXNzd29yZDIKICAgICAgICB9OwogICAgICB9CgogICAgICBpZiAodGhpcy5zdGF0dXMgPT09ICd0ZWFjaGVyJykgewogICAgICAgIG5ld191c2VyID0gewogICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgICBmaXJzdF9uYW1lOiB0aGlzLmZpby5maXJzdF9uYW1lLAogICAgICAgICAgbGFzdF9uYW1lOiB0aGlzLmZpby5sYXN0X25hbWUsCiAgICAgICAgICBtaWRkbGVfbmFtZTogdGhpcy5maW8ubWlkZGxlX25hbWUsCiAgICAgICAgICBzdHVkeWluZ19kaXJlY3Rpb25zOiB0aGlzLnNlbGVjdGVkX3N0dWR5aW5nX2RpcmVjdGlvbnMsCiAgICAgICAgICBpc190ZWFjaGVyOiB0cnVlLAogICAgICAgICAgaXNfc3R1ZGVudDogZmFsc2UsCiAgICAgICAgICBpc19zdGFmZjogZmFsc2UsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAgICAgICAgIHBhc3N3b3JkMjogdGhpcy5wYXNzd29yZDIKICAgICAgICB9OwogICAgICB9CgogICAgICBzdG9yZS5jb21taXQoJ2F1dGhfcmVxdWVzdCcpOwogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo2MDYwL2FwaS9yZWdpc3RyYXRpb24vJywKICAgICAgICBkYXRhOiBuZXdfdXNlciwKICAgICAgICBtZXRob2Q6ICdQT1NUJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgaWYgKHJlc3AuZGF0YS5yZXN1bHQgPT09ICdvaycpIHsKICAgICAgICAgIHZhciB1c2VyX2luZm8gPSB7CiAgICAgICAgICAgICd0b2tlbic6IHJlc3AuZGF0YS5wYXJhbXMudG9rZW4sCiAgICAgICAgICAgICd1c2VyJzogcmVzcC5kYXRhLnBhcmFtcy51c2VyCiAgICAgICAgICB9OwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXItdG9rZW4nLCB1c2VyX2luZm9bJ3Rva2VuJ10pOwogICAgICAgICAgYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ0F1dGhvcml6YXRpb24nXSA9ICdUb2tlbiAnICsgcmVzcC5kYXRhLnBhcmFtcy50b2tlbjsKICAgICAgICAgIHN0b3JlLmNvbW1pdCgnYXV0aF9zdWNjZXNzJywgdXNlcl9pbmZvKTsKICAgICAgICAgIHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0b3JlLmNvbW1pdCgnYXV0aF9lcnJvcicsIHJlc3AuZGF0YS5yZXN1bHQpOwogICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXItdG9rZW4nKTsKICAgICAgICAgIF90aGlzLmVycm9yID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHRoaXMuc3RhdHVzID0gJ3N0dWRlbnQnOwogICAgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjYwNjAvYXBpL2ZhY3VsdGllc19hbmRfZGlyZWN0cycpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgaWYgKHJlc3AuZGF0YS5yZXN1bHQgPT09ICdvaycpIHsKICAgICAgICBfdGhpczIuYWxsX2ZhY3VsdGllcyA9IHJlc3AuZGF0YS5wYXJhbXMuZGF0YTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INC00LDQvdC90YvRhSDRhNCw0LrRg9C70YzRgtC10YLQvtCyJyk7CiAgICAgIH0KICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["RegistrationForm.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <b-card v-bind:class=\"{'register-card-stud': status === 'student', 'register-card-teach': status === 'teacher'}\">\n    <b-card-title>\n      <header class=\"\">\n          <p class=\"\">Регистрация</p>\n      </header>\n      <b-card-sub-title v-if=\"error\" class=\"error-subtitle\">Ошибка. Проверьте введенные данные.</b-card-sub-title>\n    </b-card-title>\n    <b-card-body>\n      <b-form-group label=\"Укажите статус:\" style=\"text-align: left\">\n        <b-form-radio v-model=\"status\" name=\"some-radios\"  value=\"student\">Студент</b-form-radio>\n        <b-form-radio v-model=\"status\" name=\"some-radios\" value=\"teacher\">Преподаватель</b-form-radio>\n      </b-form-group>\n      <b-form-input type=\"email\" name=\"email\" v-model=\"email\" placeholder=\"Email\" required class=\"mt-2\" :state=\"states.email_state\" @change=\"states.email_state = null\"/>\n      <b-form-input type=\"text\" name=\"last_name\" v-model=\"fio.last_name\" placeholder=\"Фамилия\" required class=\"mt-2\" :state=\"states.fio_state\" @change=\"states.fio_state = null\"/>\n      <b-form-input type=\"text\" name=\"first_name\" v-model=\"fio.first_name\" placeholder=\"Имя\" required class=\"mt-2\" :state=\"states.fio_state\" @change=\"states.fio_state = null\"/>\n      <b-form-input type=\"text\" name=\"middle_name\" v-model=\"fio.middle_name\" placeholder=\"Отчество\" required class=\"mt-2\"></b-form-input>\n\n      <template v-if=\"status === 'student'\">\n        <b-form-input type=\"text\" name=\"ticket_number\" v-model=\"ticket_number\" placeholder=\"Номер студенческого билета\" required class=\"mt-2\"></b-form-input>\n      </template>\n\n      <template v-if=\"status === 'teacher'\">\n        <b-form-select v-model=\"teacher_faculty\" class=\"mt-2\" :state=\"states.faculty_state\">\n          <template v-slot:first>\n            <b-form-select-option :value=\"''\" disabled>-- Факультет --</b-form-select-option>\n          </template>\n          <b-form-select-option v-for=\"faculty in all_faculties\" v-bind:value=\"faculty\">{{ store.state.faculty_decryption[faculty.name] }}</b-form-select-option>\n        </b-form-select>\n\n        <b-form-group label=\"Преподаваемые направления\" class=\"mt-2\">\n          <b-form-select v-model=\"selected_studying_directions\" multiple :state=\"states.directs_state\" :select-size=\"6\" @change=\"states.directs_state = null\">\n            <b-form-select-option v-for=\"direction in teacher_faculty.directions_names_on_faculty\" v-bind:value=\"direction.name \">\n              {{store.state.direction_decryption[direction.name ]}}\n            </b-form-select-option>\n          </b-form-select>\n        </b-form-group>\n      </template>\n\n      <b-form-input type=\"password\" name=\"password\" v-model=\"password\" placeholder=\"Пароль\" required class=\"mt-2\" :state=\"states.passwords_state\" @change=\"states.passwords_state = null\"/>\n      <b-form-input type=\"password\" name=\"password2\" v-model=\"password2\" placeholder=\"Пароль (ещё раз)\" required class=\"mt-2\" :state=\"states.passwords_state\" @change=\"states.passwords_state = null\"/>\n    </b-card-body>\n    <b-card-footer>\n      <b-button squared class=\"button is-primary\" @click='register()'>Зарегистрироваться</b-button>\n      <br/>\n      Уже есть аккаунт? <b-link class=\"button is-primary\" @click=\"$router.push({name: 'loginForm'})\">Войти</b-link>\n    </b-card-footer>\n  </b-card>\n</template>\n\n<script>\n    import axios from \"axios\";\n    import router from \"../router/index\";\n    import store from \"../store\";\n\n    export default {\n      name: \"RegistrationForm\",\n      data: function () {\n        return {\n          store: store,\n          status: '',\n          // Common data\n          email: '',\n          fio: {first_name: '', middle_name: '', last_name: ''},\n          password: '',\n          password2: '',\n\n          // Teacher data\n          all_faculties: [],\n          teacher_faculty: '',\n          faculty_studying_directions: [],\n          selected_studying_directions: [],\n\n          // Student data\n          ticket_number: '',\n\n          // States\n          states: {\n            email_state: null,\n            fio_state: null,\n            thicket_number_state: null,\n            faculty_state: null,\n            directs_state: null,\n            passwords_state: null,\n            error: false,\n            error_text: ''}\n        }\n      },\n      methods: {\n        register: function () {\n          this.error = false\n          for (let state in this.states) {\n            state = null\n          }\n          if (this.email === '') this.states.email_state = false\n          if (this.first_name === '' || this.last_name === '') this.states.fio_state = false\n          if (this.password === '' || this.password2 === '') this.states.passwords_state = false\n          if (this.password !== this.password2) this.states.passwords_state = false\n\n          if (this.status === 'student') {\n            if (this.ticket_number === '') this.states.thicket_number_state = false\n          }\n          if (this.status === 'teacher') {\n           if (this.teacher_faculty === '') this.states.faculty_state = false\n           if (this.selected_studying_directions === '') this.states.directs_state = false\n          }\n          for (let state in this.states) {\n            if (state === false) {\n              this.error = true\n              return\n            }\n          }\n          let new_user = {}\n          if (this.status === 'student') {\n            new_user = {\n             email: this.email,\n             first_name: this.fio.first_name,\n             last_name: this.fio.last_name,\n             middle_name: this.fio.middle_name,\n             ticket_number: this.ticket_number,\n             is_teacher: false,\n             is_student: true,\n             is_staff: false,\n             password: this.password,\n             password2: this.password2,\n          }\n          }\n          if (this.status === 'teacher') {\n            new_user = {\n             email: this.email,\n             first_name: this.fio.first_name,\n             last_name: this.fio.last_name,\n             middle_name: this.fio.middle_name,\n             studying_directions: this.selected_studying_directions,\n             is_teacher: true,\n             is_student: false,\n             is_staff: false,\n             password: this.password,\n             password2: this.password2,\n          }\n          }\n\n          store.commit('auth_request')\n          axios({url: 'http://localhost:6060/api/registration/', data: new_user, method: 'POST' })\n          .then(resp => {\n              if (resp.data.result === 'ok') {\n                let user_info = {'token': resp.data.params.token, 'user': resp.data.params.user }\n                localStorage.setItem('user-token', user_info['token'])\n                axios.defaults.headers.common['Authorization'] = 'Token ' + resp.data.params.token\n                store.commit('auth_success', user_info)\n                router.push('/')\n              }\n              else {\n               store.commit('auth_error', resp.data.result)\n               localStorage.removeItem('user-token')\n               this.error = true\n              }\n            })\n        },\n      },\n      created: function () {\n        this.status = 'student'\n        axios.get('http://localhost:6060/api/faculties_and_directs')\n          .then(resp => {\n              if (resp.data.result === 'ok') {\n                  this.all_faculties = resp.data.params.data\n                }\n                else {\n                  console.log('Ошибка при загрузке данных факультетов')\n                }\n          }\n        )\n      }\n    }\n</script>\n\n<style scoped>\n\n  .register-card-teach {\n    width: 470px;\n    height: 800px;\n    position: absolute;\n    top: calc(50% - 400px);\n    left: calc(50% - 200px);\n  }\n  .register-card-stud {\n    width: 470px;\n    height: 620px;\n    position: absolute;\n    top: calc(50% - 400px);\n    left: calc(50% - 200px);\n  }\n  .register-card .error-subtitle {\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin-left: auto;\n    margin-right: auto;\n    width: 300px;\n }\n</style>"],"sourceRoot":"src/components"}]}