{"remainingRequest":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/babel-loader/lib/index.js!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/components/CreateTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/components/CreateTable.vue","mtime":1588451503644},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL3BhbHR1cy9QeWNoYXJtUHJvamVjdHMvRG9jc19TZXJ2aWNlX1JFU1RfdjIvdGFibGVnZW5mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3JlYXRlVGFibGUiLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbGxfZGlyZWN0aW9uczogJycsCiAgICAgIHNlbGVjdGVkX2RpcmVjdGlvbjogJycsCiAgICAgIGdyb3Vwc19vbl9kaXJlY3Rpb246IFtdLAogICAgICBzZWxlY3RlZF9ncm91cDogJycsCiAgICAgIHN0dWRlbnRzX2luX3NlbGVjdGVkX2dyb3VwOiAnJywKICAgICAgbmV3X3RhYmxlX25hbWU6ICcnLAogICAgICB0YWJsZTogewogICAgICAgIGZpZWxkczogewogICAgICAgICAgbnVtYmVyOiAn4oSWJywKICAgICAgICAgIGZpbzogJ9Ck0JjQnicsCiAgICAgICAgICBmaW5hbF9zY29yZTogJ9CY0YLQvtCz0L7QstCw0Y8g0L7RhtC10L3QutCwJwogICAgICAgIH0sCiAgICAgICAgaXRlbXM6IFtdCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaF9ncm91cHM6IGZ1bmN0aW9uIGZldGNoX2dyb3VwcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vIGRhdGEgPSB7J3N0dWR5aW5nX2RpcmVjdGlvbic6IHRoaXMuc3R1ZHlpbmdfZGlyZWN0aW9ufQogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6NjA2MC9hcGkvZ3JvdXBzX2J5X2RpcmVjdC8iLmNvbmNhdCh0aGlzLnNlbGVjdGVkX2RpcmVjdGlvbiwgIi8iKSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIHJldHVybiBfdGhpcy5ncm91cHNfb25fZGlyZWN0aW9uID0gcmVzcC5kYXRhLnBhcmFtcy5ncm91cHNfbnVtYmVyczsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgY3JlYXRlX3RhYmxlOiBmdW5jdGlvbiBjcmVhdGVfdGFibGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgJ2FjdGlvbic6ICdjcmVhdGVfbmV3JywKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICdncm91cF9udW1iZXInOiB0aGlzLnNlbGVjdGVkX2dyb3VwLAogICAgICAgICAgJ25ld190YWJsZV9uYW1lJzogdGhpcy5uZXdfdGFibGVfbmFtZQogICAgICAgIH0KICAgICAgfTsKICAgICAgYXhpb3MoewogICAgICAgIHVybDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NjA2MC9hcGkvdGFibGVfY3JlYXRvci8nLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgbWV0aG9kOiAnUE9TVCcKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgIHJldHVybiBfdGhpczIuZmV0Y2hfc3R1ZGVudHNfaW5mbyhyZXNwLmRhdGEucGFyYW1zLnN0dWRlbnRzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZmV0Y2hfc3R1ZGVudHNfaW5mbzogZnVuY3Rpb24gZmV0Y2hfc3R1ZGVudHNfaW5mbyhzdHVkZW50c19pbl9zZWxlY3RlZF9ncm91cCkgewogICAgICB2YXIgaW5fZ3JvdXBfbnVtYmVyID0gMTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihzdHVkZW50c19pbl9zZWxlY3RlZF9ncm91cCksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBzdHVkZW50ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICB2YXIgZmlvID0gc3R1ZGVudC5sYXN0X25hbWUgKyAnICcgKyBzdHVkZW50LmZpcnN0X25hbWUgKyAnICcgKyBzdHVkZW50Lm1pZGRsZV9uYW1lOwogICAgICAgICAgdmFyIHRpY2tldF9udW1iZXIgPSBzdHVkZW50LnRpY2tldF9udW1iZXI7CiAgICAgICAgICB0aGlzLnRhYmxlLml0ZW1zLnB1c2goewogICAgICAgICAgICAn4oSWJzogaW5fZ3JvdXBfbnVtYmVyLAogICAgICAgICAgICAn0KTQmNCeJzogZmlvLAogICAgICAgICAgICAnZmluYWxfc2NvcmUnOiAnJwogICAgICAgICAgfSk7CiAgICAgICAgICBpbl9ncm91cF9udW1iZXIgKz0gMTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgIHZhciBkYXRhID0gewogICAgICAnYWN0aW9uJzogJ2dldF9kaXJlY3Rpb25zJwogICAgfTsKICAgIGF4aW9zKHsKICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo2MDYwL2FwaS90YWJsZV9jcmVhdG9yLycsCiAgICAgIGRhdGE6IGRhdGEsCiAgICAgIG1ldGhvZDogJ1BPU1QnCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgIHJldHVybiBfdGhpczMuYWxsX2RpcmVjdGlvbnMgPSByZXNwLmRhdGEucGFyYW1zLmRpcmVjdGlvbnNfbmFtZXM7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["CreateTable.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"\">\n         <div class=\"card\">\n             <div class=\"card-body\">\n                 <b-form-group label=\"Укажите группу и название таблицы\" class=\"mt-2 creation-settings-form\">\n                     <div class=\"row\">\n                         <b-form-select id=\"discipline\" v-model=\"selected_direction\" class=\"tablegen-select-direct mt-2\" @change=\"fetch_groups\">\n                             <template v-slot:first>\n                                <b-form-select-option :value=\"''\" disabled>-- Направление подготовки --</b-form-select-option>\n                             </template>\n                             <b-form-select-option v-for=\"direction in all_directions\" v-bind:value=\"direction.name\">\n                                 {{ $store.state.direction_decryption[direction.name] }}\n                             </b-form-select-option>\n                         </b-form-select>\n                         <b-form-select id=\"discipline\" v-model=\"selected_group\" class=\"tablegen-select-group mt-2\">\n                             <template v-slot:first>\n                                <b-form-select-option :value=\"''\" disabled>-- Группа --</b-form-select-option>\n                             </template>\n                            <b-form-select-option v-for=\"group_number in groups_on_direction\" v-bind:value=\"group_number\">{{group_number}}</b-form-select-option>\n                         </b-form-select>\n                        <b-input class=\"tablegen-input-name mt-2\" placeholder=\"Название таблицы\" v-model=\"new_table_name\"/>\n                     </div>\n                     <b-button secondary type=\"submit\" value=\"Создать\" class=\"mt-2\" @click=\"create_table\">Создать таблицу</b-button>\n                 </b-form-group>\n             </div>\n         </div>\n\n        <!--<b-table striped hover bordered :items=\"table.items\" :fields=\"table.fields\" class='scores-table'>\n          <template v-slot:cell(final_score)=\"row\">\n            <b-form-input v-model=\"row.item['final_score']\"/>\n          </template>\n        </b-table> -->\n\n    </div>\n</template>\n\n<script>\n    import axios from 'axios'\n    import store from '../store'\n\n    export default {\n        name: \"CreateTable\",\n        components: {\n\n        },\n        data() {\n            return {\n                all_directions: '',\n                selected_direction: '',\n                groups_on_direction: [],\n                selected_group: '',\n                students_in_selected_group: '',\n                new_table_name: '',\n\n                table: {\n                    fields: {number: '№', fio: 'ФИО', final_score: 'Итоговая оценка'},\n                    items: []\n                },\n            }\n        },\n        methods: {\n            fetch_groups: function () {\n                // data = {'studying_direction': this.studying_direction}\n                axios.get(`http://localhost:6060/api/groups_by_direct/${this.selected_direction}/`)\n                .then(resp => (this.groups_on_direction = resp.data.params.groups_numbers))\n                .catch(error => (console.log(error)))\n            },\n            create_table: function() {\n                let data = {'action': 'create_new',\n                    params: {'group_number': this.selected_group, 'new_table_name': this.new_table_name}\n                }\n                axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                .then(resp => (this.fetch_students_info(resp.data.params.students)))\n                .catch(error =>(console.log(error)))\n            },\n            fetch_students_info: function (students_in_selected_group) {\n                let in_group_number = 1\n                for (let student of students_in_selected_group) {\n                    let fio = student.last_name + ' ' + student.first_name + ' ' + student.middle_name\n                    let ticket_number = student.ticket_number\n                    this.table.items.push({'№': in_group_number, 'ФИО': fio, 'final_score': ''})\n                    in_group_number += 1\n                }\n            }\n        },\n        created() {\n             let data = {'action': 'get_directions'}\n             axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                .then(resp => (this.all_directions = resp.data.params.directions_names))\n                .catch(error =>(console.log(error)))\n        }\n    }\n</script>\n\n<style scoped>\n    .creation-settings-form {\n        text-align: center;\n    }\n    .tablegen-select-direct {\n        width: 28vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .tablegen-select-group {\n        width: 10vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .tablegen-input-name {\n        width: 15vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n\n    .scores-table {\n        margin-top: 15px;\n    }\n</style>"],"sourceRoot":"src/components"}]}