{"remainingRequest":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/views/TabeCreateView.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/views/TabeCreateView.vue","mtime":1589047249705},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY3JlYXRpb24tc2V0dGluZ3MtZm9ybSB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLmNyZWF0aW9uLXNlbGVjdC1kaXJlY3QgewogICAgd2lkdGg6IDI4dnc7CiAgICBtYXJnaW4tbGVmdDogNXB4OwogICAgbWFyZ2luLXJpZ2h0OiA1cHg7Cn0KLnRhYmxlZ2VuLXNlbGVjdC1ncm91cCB7CiAgICB3aWR0aDogMTB2dzsKICAgIG1hcmdpbi1sZWZ0OiA1cHg7CiAgICBtYXJnaW4tcmlnaHQ6IDVweDsKfQoudGFibGVnZW4taW5wdXQtbmFtZSB7CiAgICB3aWR0aDogMTV2dzsKICAgIG1hcmdpbi1sZWZ0OiA1cHg7CiAgICBtYXJnaW4tcmlnaHQ6IDVweDsKfQouc2NvcmVzLXRhYmxlIHsKICAgIG1hcmdpbi10b3A6IDE1cHg7Cn0K"},{"version":3,"sources":["TabeCreateView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TabeCreateView.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"table-create-view\">\n    <h2>Меню создания таблиц</h2>\n\n      <div class=\"card\">\n         <div class=\"card-body\">\n             <b-form-group label=\"Укажите группу и название дисциплины\" class=\"mt-2 creation-settings-form\">\n                 <div class=\"row\">\n                     <b-form-select id=\"discipline\" v-model=\"selected_direction\" class=\"creation-select-direct mt-2\" @change=\"fetch_groups\">\n                         <template v-slot:first>\n                            <b-form-select-option :value=\"''\" disabled>-- Направление подготовки --</b-form-select-option>\n                         </template>\n                         <b-form-select-option v-for=\"direction in all_directions\" :key=\"direction.name\" v-bind:value=\"direction.name\">\n                             {{ $store.state.direction_decryption[direction.name] }}\n                         </b-form-select-option>\n                     </b-form-select>\n                     <b-form-select id=\"discipline\" v-model=\"selected_group\" class=\"tablegen-select-group mt-2\">\n                         <template v-slot:first>\n                            <b-form-select-option :value=\"''\" disabled>-- Группа --</b-form-select-option>\n                         </template>\n                        <b-form-select-option v-for=\"group_number in groups_on_direction\" :key=\"group_number\" v-bind:value=\"group_number\">{{group_number}}</b-form-select-option>\n                     </b-form-select>\n                    <b-input class=\"tablegen-input-name mt-2\" placeholder=\"Название дисциплины\" v-model=\"new_table_name\"/>\n                 </div>\n                 <b-button secondary type=\"submit\" value=\"Создать\" class=\"mt-2\" @click=\"create_table\">Создать таблицу</b-button>\n             </b-form-group>\n         </div>\n      </div>\n\n        <TableGenerator v-if=\"table_data !== ''\" :table_data=\"table_data\"/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from \"axios\";\nimport router from \"../router/index\";\nimport store from \"../store\";\nimport TableGenerator from \"../components/TableGenerator\";\n\nexport default {\n  name: 'TableCreateView',\n  components: {\n    TableGenerator\n  },\n  data() {\n            return {\n                store:store,\n                all_directions: '',\n                selected_direction: '',\n                groups_on_direction: [],\n                selected_group: '',\n                students_in_selected_group: '',\n                new_table_name: '',\n                table_data: '',\n            }\n        },\n        methods: {\n            fetch_groups: function () {\n                // data = {'studying_direction': this.studying_direction}\n                axios.get(`http://localhost:6060/api/groups_by_direct/${this.selected_direction}/`)\n                .then(resp => (this.groups_on_direction = resp.data.params.groups_numbers))\n                .catch(error => (console.log(error)))\n            },\n            create_table: function() {\n                let data = {'action': 'create_new',\n                    params: {'group_number': this.selected_group, 'new_table_name': this.new_table_name}\n                }\n                axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                // .then(resp => (this.fetch_students_info(resp.data.params.students)))\n                .then(resp => {\n                    if (resp.data.result === 'ok') {\n                        this.table_data = resp.data.params.table_data\n                        // console.log(this.table_data)\n                    }\n                })\n                .catch(error =>(console.log(error)))\n            },\n        },\n        created() {\n             let data = {'action': 'get_directions'}\n             axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                .then(resp => (this.all_directions = resp.data.params.directions_names))\n                .catch(error =>(console.log(error)))\n        }\n}\n</script>\n\n<style>\n    .creation-settings-form {\n        text-align: center;\n    }\n    .creation-select-direct {\n        width: 28vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .tablegen-select-group {\n        width: 10vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .tablegen-input-name {\n        width: 15vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .scores-table {\n        margin-top: 15px;\n    }\n</style>\n"]}]}