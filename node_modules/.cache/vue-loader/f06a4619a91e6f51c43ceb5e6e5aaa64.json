{"remainingRequest":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/views/TabeCreateView.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/src/views/TabeCreateView.vue","mtime":1588678358766},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/paltus/PycharmProjects/Docs_Service_REST_v2/tablegenfront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlci9pbmRleCI7CmltcG9ydCBzdG9yZSBmcm9tICIuLi9zdG9yZSI7CmltcG9ydCBUYWJsZUdlbmVyYXRvciBmcm9tICIuLi9jb21wb25lbnRzL1RhYmxlR2VuZXJhdG9yIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVGFibGVDcmVhdGVWaWV3JywKICBjb21wb25lbnRzOiB7CiAgICBUYWJsZUdlbmVyYXRvcgogIH0sCiAgZGF0YSgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHN0b3JlOnN0b3JlLAogICAgICAgICAgICAgICAgYWxsX2RpcmVjdGlvbnM6ICcnLAogICAgICAgICAgICAgICAgc2VsZWN0ZWRfZGlyZWN0aW9uOiAnJywKICAgICAgICAgICAgICAgIGdyb3Vwc19vbl9kaXJlY3Rpb246IFtdLAogICAgICAgICAgICAgICAgc2VsZWN0ZWRfZ3JvdXA6ICcnLAogICAgICAgICAgICAgICAgc3R1ZGVudHNfaW5fc2VsZWN0ZWRfZ3JvdXA6ICcnLAogICAgICAgICAgICAgICAgbmV3X3RhYmxlX25hbWU6ICcnLAogICAgICAgICAgICAgICAgdGFibGVfZGF0YTogJycsCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgZmV0Y2hfZ3JvdXBzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAvLyBkYXRhID0geydzdHVkeWluZ19kaXJlY3Rpb24nOiB0aGlzLnN0dWR5aW5nX2RpcmVjdGlvbn0KICAgICAgICAgICAgICAgIGF4aW9zLmdldChgaHR0cDovL2xvY2FsaG9zdDo2MDYwL2FwaS9ncm91cHNfYnlfZGlyZWN0LyR7dGhpcy5zZWxlY3RlZF9kaXJlY3Rpb259L2ApCiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+ICh0aGlzLmdyb3Vwc19vbl9kaXJlY3Rpb24gPSByZXNwLmRhdGEucGFyYW1zLmdyb3Vwc19udW1iZXJzKSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiAoY29uc29sZS5sb2coZXJyb3IpKSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY3JlYXRlX3RhYmxlOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGxldCBkYXRhID0geydhY3Rpb24nOiAnY3JlYXRlX25ldycsCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7J2dyb3VwX251bWJlcic6IHRoaXMuc2VsZWN0ZWRfZ3JvdXAsICduZXdfdGFibGVfbmFtZSc6IHRoaXMubmV3X3RhYmxlX25hbWV9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBheGlvcyh7dXJsOiAnaHR0cDovL2xvY2FsaG9zdDo2MDYwL2FwaS90YWJsZV9jcmVhdG9yLycsIGRhdGE6IGRhdGEsIG1ldGhvZDogJ1BPU1QnfSkKICAgICAgICAgICAgICAgIC8vIC50aGVuKHJlc3AgPT4gKHRoaXMuZmV0Y2hfc3R1ZGVudHNfaW5mbyhyZXNwLmRhdGEucGFyYW1zLnN0dWRlbnRzKSkpCiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5kYXRhLnJlc3VsdCA9PT0gJ29rJykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlX2RhdGEgPSByZXNwLmRhdGEucGFyYW1zLnRhYmxlX2RhdGEKICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy50YWJsZV9kYXRhKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4oY29uc29sZS5sb2coZXJyb3IpKSkKICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgICAgICBsZXQgZGF0YSA9IHsnYWN0aW9uJzogJ2dldF9kaXJlY3Rpb25zJ30KICAgICAgICAgICAgIGF4aW9zKHt1cmw6ICdodHRwOi8vbG9jYWxob3N0OjYwNjAvYXBpL3RhYmxlX2NyZWF0b3IvJywgZGF0YTogZGF0YSwgbWV0aG9kOiAnUE9TVCd9KQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiAodGhpcy5hbGxfZGlyZWN0aW9ucyA9IHJlc3AuZGF0YS5wYXJhbXMuZGlyZWN0aW9uc19uYW1lcykpCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4oY29uc29sZS5sb2coZXJyb3IpKSkKICAgICAgICB9Cn0K"},{"version":3,"sources":["TabeCreateView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TabeCreateView.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"table-create-view\">\n    <h2>Меню создания таблиц</h2>\n\n      <div class=\"card\">\n         <div class=\"card-body\">\n             <b-form-group label=\"Укажите группу и название таблицы\" class=\"mt-2 creation-settings-form\">\n                 <div class=\"row\">\n                     <b-form-select id=\"discipline\" v-model=\"selected_direction\" class=\"creation-select-direct mt-2\" @change=\"fetch_groups\">\n                         <template v-slot:first>\n                            <b-form-select-option :value=\"''\" disabled>-- Направление подготовки --</b-form-select-option>\n                         </template>\n                         <b-form-select-option v-for=\"direction in all_directions\" v-bind:value=\"direction.name\">\n                             {{ $store.state.direction_decryption[direction.name] }}\n                         </b-form-select-option>\n                     </b-form-select>\n                     <b-form-select id=\"discipline\" v-model=\"selected_group\" class=\"tablegen-select-group mt-2\">\n                         <template v-slot:first>\n                            <b-form-select-option :value=\"''\" disabled>-- Группа --</b-form-select-option>\n                         </template>\n                        <b-form-select-option v-for=\"group_number in groups_on_direction\" v-bind:value=\"group_number\">{{group_number}}</b-form-select-option>\n                     </b-form-select>\n                    <b-input class=\"tablegen-input-name mt-2\" placeholder=\"Название таблицы\" v-model=\"new_table_name\"/>\n                 </div>\n                 <b-button secondary type=\"submit\" value=\"Создать\" class=\"mt-2\" @click=\"create_table\">Создать таблицу</b-button>\n             </b-form-group>\n         </div>\n      </div>\n\n        Генератор находится здесь\n        <TableGenerator v-if=\"table_data !== ''\" :table_data=\"table_data\"/>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport axios from \"axios\";\nimport router from \"../router/index\";\nimport store from \"../store\";\nimport TableGenerator from \"../components/TableGenerator\";\n\nexport default {\n  name: 'TableCreateView',\n  components: {\n    TableGenerator\n  },\n  data() {\n            return {\n                store:store,\n                all_directions: '',\n                selected_direction: '',\n                groups_on_direction: [],\n                selected_group: '',\n                students_in_selected_group: '',\n                new_table_name: '',\n                table_data: '',\n            }\n        },\n        methods: {\n            fetch_groups: function () {\n                // data = {'studying_direction': this.studying_direction}\n                axios.get(`http://localhost:6060/api/groups_by_direct/${this.selected_direction}/`)\n                .then(resp => (this.groups_on_direction = resp.data.params.groups_numbers))\n                .catch(error => (console.log(error)))\n            },\n            create_table: function() {\n                let data = {'action': 'create_new',\n                    params: {'group_number': this.selected_group, 'new_table_name': this.new_table_name}\n                }\n                axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                // .then(resp => (this.fetch_students_info(resp.data.params.students)))\n                .then(resp => {\n                    if (resp.data.result === 'ok') {\n                        this.table_data = resp.data.params.table_data\n                        // console.log(this.table_data)\n                    }\n                })\n                .catch(error =>(console.log(error)))\n            },\n        },\n        created() {\n             let data = {'action': 'get_directions'}\n             axios({url: 'http://localhost:6060/api/table_creator/', data: data, method: 'POST'})\n                .then(resp => (this.all_directions = resp.data.params.directions_names))\n                .catch(error =>(console.log(error)))\n        }\n}\n</script>\n\n<style>\n    .creation-settings-form {\n        text-align: center;\n    }\n    .creation-select-direct {\n        width: 28vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .tablegen-select-group {\n        width: 10vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .tablegen-input-name {\n        width: 15vw;\n        margin-left: 5px;\n        margin-right: 5px;\n    }\n    .scores-table {\n        margin-top: 15px;\n    }\n</style>\n"]}]}